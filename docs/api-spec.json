{
  "openapi": "3.0.0",
  "info": {
    "title": "MVE Login Server API",
    "version": "1.0.0",
    "description": "MVE (Meta Virtual Environment) Login Server API\n\nì´ APIëŠ” ì‚¬ìš©ì ì¸ì¦ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤:\n- ğŸ” íšŒì›ê°€ì… (ì´ë©”ì¼ ì¸ì¦)\n- ğŸ”‘ ë¡œê·¸ì¸ (JWT í† í° ë°œê¸‰)\n- ğŸ‘¤ í”„ë¡œí•„ ì¡°íšŒ\n- âœ‰ï¸ ì´ë©”ì¼ ì¸ì¦ë²ˆí˜¸ ë°œì†¡ ë° ê²€ì¦\n\n**í† í° ë°œê¸‰**: ë¡œê·¸ì¸ ì„±ê³µ ì‹œ JWT í† í°ì´ ë°œê¸‰ë©ë‹ˆë‹¤.\n**í† í° ì‚¬ìš©**: Resource Server API í˜¸ì¶œ ì‹œ Authorization í—¤ë”ì— í¬í•¨í•˜ì„¸ìš”.",
    "contact": {
      "name": "MVE Development Team",
      "url": "https://github.com/prayslaks"
    },
    "license": {
      "name": "ISC",
      "url": "https://opensource.org/licenses/ISC"
    }
  },
  "servers": [
    {
      "url": "http://localhost:3001",
      "description": "ë¡œì»¬ ê°œë°œ ì„œë²„"
    },
    {
      "url": "http://your-ec2-public-ip",
      "description": "AWS EC2 í”„ë¡œë•ì…˜ ì„œë²„ (HTTP)"
    },
    {
      "url": "https://your-domain.com",
      "description": "AWS EC2 í”„ë¡œë•ì…˜ ì„œë²„ (HTTPS)"
    }
  ],
  "tags": [
    {
      "name": "Authentication",
      "description": "ì‚¬ìš©ì ì¸ì¦ ë° íšŒì›ê°€ì… API"
    },
    {
      "name": "Email Verification",
      "description": "ì´ë©”ì¼ ì¸ì¦ë²ˆí˜¸ ë°œì†¡ ë° ê²€ì¦ API"
    },
    {
      "name": "User Profile",
      "description": "ì‚¬ìš©ì í”„ë¡œí•„ ê´€ë¦¬ API (JWT ì¸ì¦ í•„ìš”)"
    }
  ],
  "components": {
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT",
        "description": "MVE Login Serverì—ì„œ ë°œê¸‰ë°›ì€ JWT í† í°ì„ ì…ë ¥í•˜ì„¸ìš”."
      }
    }
  },
  "security": [
    {
      "bearerAuth": []
    }
  ],
  "paths": {
    "/api/auth/check-email": {
      "post": {
        "summary": "ì´ë©”ì¼ ì¤‘ë³µ í™•ì¸",
        "description": "íšŒì›ê°€ì… ì „ ì´ë©”ì¼ ì¤‘ë³µ ì—¬ë¶€ë¥¼ í™•ì¸í•©ë‹ˆë‹¤",
        "tags": [
          "Authentication"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "email"
                ],
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email",
                    "example": "test@example.com"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "ì´ë©”ì¼ ì‚¬ìš© ê°€ëŠ¥",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "exists": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "ì˜ëª»ëœ ìš”ì²­"
          }
        }
      }
    },
    "/api/auth/send-verification": {
      "post": {
        "summary": "ì´ë©”ì¼ ì¸ì¦ë²ˆí˜¸ ë°œì†¡",
        "description": "íšŒì›ê°€ì… ì‹œ ì´ë©”ì¼ë¡œ 6ìë¦¬ ì¸ì¦ë²ˆí˜¸ë¥¼ ë°œì†¡í•©ë‹ˆë‹¤ (5ë¶„ ìœ íš¨, 1ë¶„ ë‚´ ì¬ì „ì†¡ ì œí•œ)",
        "tags": [
          "Authentication"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "email"
                ],
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email",
                    "example": "test@example.com"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "ì¸ì¦ë²ˆí˜¸ ë°œì†¡ ì„±ê³µ",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "expiresIn": {
                      "type": "integer",
                      "description": "ìœ íš¨ ì‹œê°„ (ì´ˆ)"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "ì˜ëª»ëœ ìš”ì²­"
          },
          "409": {
            "description": "ì´ë¯¸ ë“±ë¡ëœ ì´ë©”ì¼"
          },
          "429": {
            "description": "ì¬ì „ì†¡ ì œí•œ (1ë¶„ ì´ë‚´)"
          }
        }
      }
    },
    "/api/auth/verify-code": {
      "post": {
        "summary": "ì¸ì¦ë²ˆí˜¸ ê²€ì¦",
        "description": "ì´ë©”ì¼ë¡œ ë°›ì€ 6ìë¦¬ ì¸ì¦ë²ˆí˜¸ë¥¼ ê²€ì¦í•©ë‹ˆë‹¤ (ìµœëŒ€ 5íšŒ ì‹œë„)",
        "tags": [
          "Authentication"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "email",
                  "code"
                ],
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email",
                    "example": "test@example.com"
                  },
                  "code": {
                    "type": "string",
                    "pattern": "^\\d{6}$",
                    "description": "6ìë¦¬ ì¸ì¦ë²ˆí˜¸",
                    "example": "123456"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "ì¸ì¦ë²ˆí˜¸ ê²€ì¦ ì„±ê³µ",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "ì˜ëª»ëœ ìš”ì²­"
          },
          "401": {
            "description": "ì¸ì¦ë²ˆí˜¸ ë¶ˆì¼ì¹˜"
          },
          "404": {
            "description": "ì¸ì¦ë²ˆí˜¸ ì—†ìŒ ë˜ëŠ” ë§Œë£Œë¨"
          },
          "429": {
            "description": "ì‹œë„ íšŸìˆ˜ ì´ˆê³¼"
          }
        }
      }
    },
    "/api/auth/signup": {
      "post": {
        "summary": "íšŒì›ê°€ì…",
        "description": "ì´ë©”ì¼ ì¸ì¦ í›„ ìƒˆ ì‚¬ìš©ì ê³„ì •ì„ ìƒì„±í•©ë‹ˆë‹¤",
        "tags": [
          "Authentication"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "email",
                  "password",
                  "code"
                ],
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email",
                    "example": "test@example.com"
                  },
                  "password": {
                    "type": "string",
                    "format": "password",
                    "minLength": 6,
                    "example": "password123"
                  },
                  "code": {
                    "type": "string",
                    "pattern": "^\\d{6}$",
                    "description": "ì´ë©”ì¼ë¡œ ë°›ì€ 6ìë¦¬ ì¸ì¦ë²ˆí˜¸",
                    "example": "123456"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "íšŒì›ê°€ì… ì„±ê³µ",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "user": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "email": {
                          "type": "string"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "ì˜ëª»ëœ ìš”ì²­ ë˜ëŠ” ì¸ì¦ë²ˆí˜¸ ë¶ˆì¼ì¹˜"
          },
          "409": {
            "description": "ì´ë©”ì¼ ì¤‘ë³µ"
          }
        }
      }
    },
    "/api/auth/login": {
      "post": {
        "summary": "ë¡œê·¸ì¸",
        "description": "ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ë¡œ ë¡œê·¸ì¸í•˜ì—¬ JWT í† í°ì„ ë°œê¸‰ë°›ìŠµë‹ˆë‹¤",
        "tags": [
          "Authentication"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "email",
                  "password"
                ],
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email",
                    "example": "test@example.com"
                  },
                  "password": {
                    "type": "string",
                    "format": "password",
                    "example": "password123"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "ë¡œê·¸ì¸ ì„±ê³µ",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "token": {
                      "type": "string",
                      "description": "JWT ì¸ì¦ í† í°"
                    },
                    "user": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "email": {
                          "type": "string"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "ì˜ëª»ëœ ìš”ì²­"
          },
          "401": {
            "description": "ì¸ì¦ ì‹¤íŒ¨ (ì˜ëª»ëœ ì´ë©”ì¼ ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸)"
          }
        }
      }
    },
    "/api/auth/logout": {
      "post": {
        "summary": "ë¡œê·¸ì•„ì›ƒ",
        "description": "ë¡œê·¸ì•„ì›ƒì„ ìˆ˜í–‰í•©ë‹ˆë‹¤ (í´ë¼ì´ì–¸íŠ¸ì—ì„œ í† í° ì‚­ì œ í•„ìš”)",
        "tags": [
          "Authentication"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "ë¡œê·¸ì•„ì›ƒ ì„±ê³µ",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "ì¸ì¦ ì‹¤íŒ¨"
          }
        }
      }
    },
    "/api/auth/withdraw": {
      "delete": {
        "summary": "íšŒì› íƒˆí‡´",
        "description": "ë¹„ë°€ë²ˆí˜¸ í™•ì¸ í›„ ê³„ì •ì„ ì‚­ì œí•©ë‹ˆë‹¤ (ë³µêµ¬ ë¶ˆê°€ëŠ¥)",
        "tags": [
          "Authentication"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "password"
                ],
                "properties": {
                  "password": {
                    "type": "string",
                    "format": "password",
                    "description": "í˜„ì¬ ë¹„ë°€ë²ˆí˜¸",
                    "example": "password123"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "íšŒì› íƒˆí‡´ ì„±ê³µ",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "ì˜ëª»ëœ ìš”ì²­"
          },
          "401": {
            "description": "ë¹„ë°€ë²ˆí˜¸ ë¶ˆì¼ì¹˜"
          },
          "404": {
            "description": "ì‚¬ìš©ì ì—†ìŒ"
          }
        }
      }
    },
    "/api/auth/profile": {
      "get": {
        "summary": "í”„ë¡œí•„ ì¡°íšŒ",
        "description": "ë¡œê·¸ì¸í•œ ì‚¬ìš©ìì˜ í”„ë¡œí•„ ì •ë³´ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤",
        "tags": [
          "Authentication"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "í”„ë¡œí•„ ì¡°íšŒ ì„±ê³µ",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "user": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "email": {
                          "type": "string"
                        },
                        "created_at": {
                          "type": "string",
                          "format": "date-time"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "ì¸ì¦ ì‹¤íŒ¨"
          },
          "404": {
            "description": "ì‚¬ìš©ì ì—†ìŒ"
          }
        }
      }
    }
  }
}